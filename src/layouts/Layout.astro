---
import '../styles/main.css';
import { siteConfig } from '@config/site';
import type { SEOProps } from '@/types/seo';

interface Props extends SEOProps {}

const {
	title,
	seoTitle,
	description = siteConfig.description,
	canonical,
	ogImage = siteConfig.defaultOgImage,
	ogType = 'website',
	keywords = [],
	article,
	noindex = false,
} = Astro.props;

const formattedTitle = seoTitle ?? (title ? `${title}` : siteConfig.name);
const canonicalURL = canonical
	? new URL(canonical, siteConfig.url).href
	: new URL(Astro.url.pathname, siteConfig.url).href;
const ogImageURL = new URL(ogImage, siteConfig.url).href;
---

<!doctype html>
<html lang='en'>
	<head>
		<meta charset='UTF-8' />
		<meta
			name='viewport'
			content='width=device-width, initial-scale=1.0'
		/>
		<meta
			http-equiv='X-UA-Compatible'
			content='IE=edge'
		/>

		<!-- Primary Meta Tags -->
		<title>{formattedTitle}</title>
		<meta
			name='title'
			content={formattedTitle}
		/>
		<meta
			name='description'
			content={description}
		/>
		{
			keywords.length > 0 && (
				<meta
					name='keywords'
					content={keywords.join(', ')}
				/>
			)
		}
		<link
			rel='canonical'
			href={canonicalURL}
		/>
		{
			noindex && (
				<meta
					name='robots'
					content='noindex, nofollow'
				/>
			)
		}

		<!-- Open Graph / Facebook -->
		<meta
			property='og:type'
			content={ogType}
		/>
		<meta
			property='og:url'
			content={canonicalURL}
		/>
		<meta
			property='og:title'
			content={formattedTitle}
		/>
		<meta
			property='og:description'
			content={description}
		/>
		<meta
			property='og:image'
			content={ogImageURL}
		/>
		<meta
			property='og:site_name'
			content={siteConfig.name}
		/>
		<meta
			property='og:locale'
			content={siteConfig.locale}
		/>

		<!-- Twitter -->
		<meta
			name='twitter:card'
			content='summary_large_image'
		/>
		<meta
			name='twitter:url'
			content={canonicalURL}
		/>
		<meta
			name='twitter:title'
			content={formattedTitle}
		/>
		<meta
			name='twitter:description'
			content={description}
		/>
		<meta
			name='twitter:image'
			content={ogImageURL}
		/>
		<meta
			name='twitter:site'
			content={siteConfig.twitterHandle}
		/>

		<!-- Article Meta (for blog posts) -->
		{
			article && (
				<>
					<meta
						property='article:published_time'
						content={article.publishedTime}
					/>
					{article.modifiedTime && (
						<meta
							property='article:modified_time'
							content={article.modifiedTime}
						/>
					)}
					{article.author && (
						<meta
							property='article:author'
							content={article.author}
						/>
					)}
					{article.tags?.map((tag) => (
						<meta
							property='article:tag'
							content={tag}
						/>
					))}
				</>
			)
		}

		<!-- Theme & Browser -->
		<meta
			name='theme-color'
			content={siteConfig.themeColor}
		/>
		<meta
			name='msapplication-navbutton-color'
			content={siteConfig.themeColor}
		/>
		<meta
			name='apple-mobile-web-app-status-bar-style'
			content={siteConfig.themeColor}
		/>

		<!-- Favicon -->
		<link
			rel='icon'
			type='image/png'
			sizes='32x32'
			href='/favicon.png'
		/>

		<!-- Fonts -->
		<link
			rel='preconnect'
			href='https://fonts.googleapis.com'
		/>
		<link
			rel='preconnect'
			href='https://fonts.gstatic.com'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/recoleta/stylesheet.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/gordita/stylesheet.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/eustache/stylesheet.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/noteworthy/style.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/bootstrap-icons/font-css.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/fonts/font-awesome/css/all.min.css'
			media='all'
		/>

		<!-- Vendor Stylesheets -->
		<link
			rel='stylesheet'
			type='text/css'
			href='/vendor/fancybox/dist/jquery.fancybox.min.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/vendor/slick/slick.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/vendor/wow/animate.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/css/custom-animation.css'
			media='all'
		/>
		<link
			rel='stylesheet'
			type='text/css'
			href='/vendor/nice-select/nice-select.css'
			media='all'
		/>

		<!-- Alpine.js -->
		<script
			is:inline
			defer
			src='https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js'
		></script>
	</head>
	<body class='main-page-wrapper overflow-x-hidden'>
		<slot />

		<!-- Vendor Scripts -->
		<script
			is:inline
			src='/vendor/jquery.min.js'
		></script>
		<script
			is:inline
			src='/vendor/bootstrap/js/bootstrap.bundle.min.js'
		></script>
		<script
			is:inline
			src='/vendor/wow/wow.min.js'
		></script>
		<script
			is:inline
			src='/vendor/slick/slick.min.js'
		></script>
		<script
			is:inline
			src='/vendor/fancybox/dist/jquery.fancybox.min.js'
		></script>
		<script
			is:inline
			src='/vendor/jquery.lazy.min.js'
		></script>
		<script
			is:inline
			src='/vendor/jquery.counterup.min.js'
		></script>
		<script
			is:inline
			src='/vendor/jquery.waypoints.min.js'
		></script>
		<script
			is:inline
			src='/vendor/isotope.pkgd.min.js'
		></script>
		<script
			is:inline
			src='/vendor/nice-select/jquery.nice-select.min.js'
		></script>
		<script
			is:inline
			src='/vendor/validator.js'
		></script>
		<script
			is:inline
			src='/js/theme.js'
		></script>
	</body>

	<div id='preloader'>
		<div
			id='ctn-preloader'
			class='ctn-preloader fixed top-0 left-0 z-999999 flex h-full w-full items-center justify-center bg-white'>
		</div>
	</div>
</html>
